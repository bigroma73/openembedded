Binary files lmbench-2.0.4.old/bin/arm-linux/bw_file_rd and lmbench-2.0.4/bin/arm-linux/bw_file_rd differ
Binary files lmbench-2.0.4.old/bin/arm-linux/bw_mem and lmbench-2.0.4/bin/arm-linux/bw_mem differ
Binary files lmbench-2.0.4.old/bin/arm-linux/bw_mmap_rd and lmbench-2.0.4/bin/arm-linux/bw_mmap_rd differ
Binary files lmbench-2.0.4.old/bin/arm-linux/bw_pipe and lmbench-2.0.4/bin/arm-linux/bw_pipe differ
Binary files lmbench-2.0.4.old/bin/arm-linux/bw_tcp and lmbench-2.0.4/bin/arm-linux/bw_tcp differ
Binary files lmbench-2.0.4.old/bin/arm-linux/bw_unix and lmbench-2.0.4/bin/arm-linux/bw_unix differ
Binary files lmbench-2.0.4.old/bin/arm-linux/clock and lmbench-2.0.4/bin/arm-linux/clock differ
Binary files lmbench-2.0.4.old/bin/arm-linux/disk and lmbench-2.0.4/bin/arm-linux/disk differ
Binary files lmbench-2.0.4.old/bin/arm-linux/enough and lmbench-2.0.4/bin/arm-linux/enough differ
Binary files lmbench-2.0.4.old/bin/arm-linux/flushdisk and lmbench-2.0.4/bin/arm-linux/flushdisk differ
Binary files lmbench-2.0.4.old/bin/arm-linux/hello and lmbench-2.0.4/bin/arm-linux/hello differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_connect and lmbench-2.0.4/bin/arm-linux/lat_connect differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_ctx and lmbench-2.0.4/bin/arm-linux/lat_ctx differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_fcntl and lmbench-2.0.4/bin/arm-linux/lat_fcntl differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_fifo and lmbench-2.0.4/bin/arm-linux/lat_fifo differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_fs and lmbench-2.0.4/bin/arm-linux/lat_fs differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_http and lmbench-2.0.4/bin/arm-linux/lat_http differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_mem_rd and lmbench-2.0.4/bin/arm-linux/lat_mem_rd differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_mmap and lmbench-2.0.4/bin/arm-linux/lat_mmap differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_pagefault and lmbench-2.0.4/bin/arm-linux/lat_pagefault differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_pipe and lmbench-2.0.4/bin/arm-linux/lat_pipe differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_proc and lmbench-2.0.4/bin/arm-linux/lat_proc differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_rpc and lmbench-2.0.4/bin/arm-linux/lat_rpc differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_select and lmbench-2.0.4/bin/arm-linux/lat_select differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_sig and lmbench-2.0.4/bin/arm-linux/lat_sig differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_syscall and lmbench-2.0.4/bin/arm-linux/lat_syscall differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_tcp and lmbench-2.0.4/bin/arm-linux/lat_tcp differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_udp and lmbench-2.0.4/bin/arm-linux/lat_udp differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_unix and lmbench-2.0.4/bin/arm-linux/lat_unix differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lat_unix_connect and lmbench-2.0.4/bin/arm-linux/lat_unix_connect differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lib_stats.o and lmbench-2.0.4/bin/arm-linux/lib_stats.o differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lib_tcp.o and lmbench-2.0.4/bin/arm-linux/lib_tcp.o differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lib_timing.o and lmbench-2.0.4/bin/arm-linux/lib_timing.o differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lib_udp.o and lmbench-2.0.4/bin/arm-linux/lib_udp.o differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lib_unix.o and lmbench-2.0.4/bin/arm-linux/lib_unix.o differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lmbench.a and lmbench-2.0.4/bin/arm-linux/lmbench.a differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lmdd and lmbench-2.0.4/bin/arm-linux/lmdd differ
Binary files lmbench-2.0.4.old/bin/arm-linux/lmhttp and lmbench-2.0.4/bin/arm-linux/lmhttp differ
Binary files lmbench-2.0.4.old/bin/arm-linux/loop_o and lmbench-2.0.4/bin/arm-linux/loop_o differ
Binary files lmbench-2.0.4.old/bin/arm-linux/memsize and lmbench-2.0.4/bin/arm-linux/memsize differ
Binary files lmbench-2.0.4.old/bin/arm-linux/mhz and lmbench-2.0.4/bin/arm-linux/mhz differ
Binary files lmbench-2.0.4.old/bin/arm-linux/msleep and lmbench-2.0.4/bin/arm-linux/msleep differ
Binary files lmbench-2.0.4.old/bin/arm-linux/timing_o and lmbench-2.0.4/bin/arm-linux/timing_o differ
diff -urNd -urNd lmbench-2.0.4.old/doc/lmbench.8 lmbench-2.0.4/doc/lmbench.8
--- lmbench-2.0.4.old/doc/lmbench.8	2003-01-13 06:24:22.000000000 -0500
+++ lmbench-2.0.4/doc/lmbench.8	2004-05-12 18:13:11.000000000 -0400
@@ -8,7 +8,7 @@
 system and hardware system metrics.  The benchmarks fall into three
 general classes: bandwidth, latency, and ``other''.
 .SH BANDWIDTH MEASUREMENTS
-Data movement is fundemental to the performance on most computer systems.
+Data movement is fundamental to the performance on most computer systems.
 The bandwidth measurements are intended to show how the system can move
 data.  The results of the bandwidth metrics can be compared but care
 must be taken to understand what it is that is being compared.  The
@@ -40,7 +40,7 @@
 bw_tcp
 reading of data via a TCP/IP socket.
 .SH LATENCY MEASUREMENTS
-Control messages are also fundemental to the performance on most
+Control messages are also fundamental to the performance on most
 computer systems.  The latency measurements are intended to show how fast
 a system can be told to do some operation.  The results of the 
 latency metrics can be compared to each other
@@ -115,11 +115,16 @@
 The benchmarking code is distributed under the GPL with additional 
 restrictions, see the COPYING file.
 .SH "SEE ALSO"
-lmbench(3), timing(3), results(3), reporting(3), 
-bargraph(1), graph(1), pgraph(1),
-disk(8), clock(8), enough(8), timing_o(8), loop_o(8),
+lmbench(3), 
 bw_file_rd(8), bw_mem(8), bw_mmap_rd(8), bw_pipe(8), bw_unix(8),
 lat_connect(8), lat_ctx(8), lat_fcntl(8), lat_fifo(8), lat_fs(8),
 lat_http(8), lat_mem_rd(8), lat_mmap(8), lat_pagefault(8),
 lat_pipe(8), lat_proc(8), lat_rpc(8), lat_select(8), lat_syscall(8),
 lat_tcp(8), lat_udp(8), lat_unix(8), lat_unix_connect(8).
+.P
+In Debian GNU/linux systems the following manpages have been
+removed due to conflicts with other programs, if you want to
+read them, please download the package sources.
+timing(3), results(3), reporting(3), 
+bargraph(1), graph(1), pgraph(1),
+disk(8), clock(8), enough(8), timing_o(8), loop_o(8),
diff -urNd -urNd lmbench-2.0.4.old/doc/lmbench.8~debian.patch lmbench-2.0.4/doc/lmbench.8~debian.patch
diff -urNd -urNd lmbench-2.0.4.old/Makefile lmbench-2.0.4/Makefile
--- lmbench-2.0.4.old/Makefile	2003-01-13 06:24:22.000000000 -0500
+++ lmbench-2.0.4/Makefile	2004-05-12 18:14:38.000000000 -0400
@@ -15,6 +15,13 @@
 # shar		build a shippable shar archive
 
 SHELL=/bin/sh
+PREFIX=/usr/local
+PACKAGE=lmbench
+SHAREDIR=${PREFIX}/share/${PACKAGE}/
+CONFIGDIR=${SHAREDIR}/config
+RESULTSDIR=${SHAREDIR}/results
+SCRIPTSDIR=${SHAREDIR}/scripts
+BINDIR=${PREFIX}/bin/
 
 build: 
 	cd src && $(MAKE)
@@ -70,4 +77,20 @@
 	find lmbench -type f -print  | egrep -v 'noship|RCS' > /tmp/FILES
 	cd .. && shar -S -a -n lmbench1.0 -L 50K < /tmp/FILES 
 
+install:
+	install -d -m 755 ${RESULTSDIR}
+	install -d -m 755 ${SCRIPTSDIR}
+	install -d -m 755 ${CONFIGDIR}
+	install -d -m 755 ${BINDIR}
+	for i in `find scripts -type f -print | egrep -v 's\.|TODO|READ|Make|noship|RCS|\.o|\.a'`; do \
+		install -m 755 $$i ${SCRIPTSDIR} ; \
+	done
+	install -m 644 scripts/README ${SCRIPTSDIR}
+	install -m 644 scripts/TODO ${SCRIPTSDIR}
+	install -m 644 src/bk.ver ${SHAREDIR}
+	tar -C ${SHAREDIR} -xf src/webpage-lm.tar
+	for i in `find bin -type f -print | egrep -v 's\.|noship|RCS|\.o|\.a'`; do \
+		install -m 755 $$i ${BINDIR} ; \
+	done
+
 FRC:
diff -urNd -urNd lmbench-2.0.4.old/Makefile~debian.patch lmbench-2.0.4/Makefile~debian.patch
diff -urNd -urNd lmbench-2.0.4.old/.patches/applied lmbench-2.0.4/.patches/applied
diff -urNd -urNd lmbench-2.0.4.old/.patches/debian.patch.files lmbench-2.0.4/.patches/debian.patch.files
diff -urNd -urNd lmbench-2.0.4.old/.patches/debian.patch.patch lmbench-2.0.4/.patches/debian.patch.patch
diff -urNd -urNd lmbench-2.0.4.old/.patches/series lmbench-2.0.4/.patches/series
diff -urNd -urNd lmbench-2.0.4.old/README lmbench-2.0.4/README
--- lmbench-2.0.4.old/README	2003-01-13 06:24:22.000000000 -0500
+++ lmbench-2.0.4/README	2004-05-12 18:13:11.000000000 -0400
@@ -1,3 +1,21 @@
+
+There is a mailing list to discuss this project.  It is "lmbench-users"
+and you get on it by sending mail to majordomo@bitmover.com .
+
+There is a web page with an overview, see
+
+	http://www.bitmover.com/lmbench
+
+Enjoy.
+ 
+-------------------------------------------------------------------------------
+
+Notes
+-----
+
+lmbench-2.0  - current stable release
+
+
 README for lmbench 2alpha8 net release.
 
 To run the benchmark, you should be able to say:
@@ -21,3 +39,5 @@
 	make rerun
 	make rerun
 	cd Results && make LIST=<your OS>/*
+This is the FTP site for the lmbench benchmarking system.
+
diff -urNd -urNd lmbench-2.0.4.old/README~debian.patch lmbench-2.0.4/README~debian.patch
diff -urNd -urNd lmbench-2.0.4.old/scripts/build lmbench-2.0.4/scripts/build
--- lmbench-2.0.4.old/scripts/build	2003-01-13 06:24:22.000000000 -0500
+++ lmbench-2.0.4/scripts/build	2004-05-12 18:17:32.000000000 -0400
@@ -9,6 +9,7 @@
 NULL=/dev/null
 BASE=/tmp/dummy
 
+echo "build: OS is $OS, MAKE is $MAKE, TARGET is $TARGET, BINDIR is $BINDIR, CONFIG is $CONFIG"
 
 trap 'rm -f ${BASE}$$.s ${BASE}$$.c ${BASE}$$.o ${BASE}$$; exit 1' 1 2 15
 
diff -urNd -urNd lmbench-2.0.4.old/scripts/config-run lmbench-2.0.4/scripts/config-run
--- lmbench-2.0.4.old/scripts/config-run	2003-01-13 06:24:22.000000000 -0500
+++ lmbench-2.0.4/scripts/config-run	2004-05-12 18:13:11.000000000 -0400
@@ -3,7 +3,15 @@
 # Configure parameters for lmbench.
 # %I% %E% %@%
 
-OS=`../scripts/os`
+SHAREDIR=/usr/share/lmbench
+VARDIR=/var/lib/lmbench
+CONFIGDIR=$VARDIR/config
+SCRIPTSDIR=$SHAREDIR/scripts
+OS=`$SCRIPTSDIR/os`
+# Original:
+# SHAREDIR=../scripts/
+# BINDIR=../bin/$OS/
+BINDIR=/usr/lib/lmbench
 L='====================================================================='
 echo $L; 
 cat<<EOF;
@@ -36,20 +44,20 @@
 ############################################################################
 echo $L; echo "";
 echo "Hang on, we are calculating your timing granularity."
-../bin/$OS/msleep 250
-ENOUGH=`../bin/$OS/enough`
+$BINDIR/msleep 250
+ENOUGH=`$BINDIR/enough`
 export ENOUGH 
 echo "OK, it looks like you can time stuff down to $ENOUGH usec resolution."
 echo ""
 echo "Hang on, we are calculating your timing overhead."
-../bin/$OS/msleep 250
-TIMING_O=`../bin/$OS/timing_o`
+$BINDIR/msleep 250
+TIMING_O=`$BINDIR/timing_o`
 export TIMING_O
 echo "OK, it looks like your gettimeofday() costs $TIMING_O usecs."
 echo ""
 echo "Hang on, we are calculating your loop overhead."
-../bin/$OS/msleep 250
-LOOP_O=`../bin/$OS/loop_o`
+$BINDIR/msleep 250
+LOOP_O=`$BINDIR/loop_o`
 export LOOP_O
 echo "OK, it looks like your benchmark loop costs $LOOP_O usecs."
 echo ""
@@ -98,9 +106,9 @@
 # Certain machines tend to barf when you try and bcopy 8MB.
 # Figure out how much we can use.
 echo "Checking to see if you have $MB MB; please wait for a moment..."
-AVAILMEM=`../bin/$OS/memsize $MB`
-AVAILMEM=`../bin/$OS/memsize $MB`
-AVAILMEM=`../bin/$OS/memsize $MB`
+AVAILMEM=`$BINDIR/memsize $MB`
+AVAILMEM=`$BINDIR/memsize $MB`
+AVAILMEM=`$BINDIR/memsize $MB`
 if [ $AVAILMEM -lt 8 ]
 then    echo $0 aborted: Not enough memory, only ${AVAILMEM}MB available. 
 	exit 1
@@ -194,7 +202,7 @@
 then	
 	for i in $disks
 	do	if [ -r $i ]
-		then	../bin/$OS/flushdisk $i
+		then	$BINDIR/flushdisk $i
 			if [ $? -eq 1 ]
 			then	echo "Must be root to run disk benchmarks."
 				echo "Root is needed to flush the buffer cache"
@@ -215,7 +223,7 @@
 echo $L
 echo ""
 echo "Calculating mhz, please wait for a moment..."
-MHZ=`../bin/$OS/mhz`
+MHZ=`$BINDIR/mhz`
 cat<<EOF
 I think your CPU mhz is 
 
@@ -236,7 +244,7 @@
 
 
 ############################################################################
-# /usr/tmp?
+# /tmp?
 ############################################################################
 echo $L
 AGAIN=Y
@@ -245,19 +253,13 @@
 	cat<<EOF;
 
 We need a place to store a $MB Mbyte file as well as create and delete a
-large number of small files.  We default to /usr/tmp.  If /usr/tmp is a
+large number of small files.  We default to /tmp.  If /tmp is a
 memory resident file system (i.e., tmpfs), pick a different place.
 Please specify a directory that has enough space and is a local file
 system.
 
 EOF
-	DEFAULTFSDIR=/usr/tmp
-	for t in /usr/tmp /tmp /var/tmp; do
-		if [ -d $t -a -w $t ]
-		then	DEFAULTFSDIR=$t
-			break
-		fi
-	done
+	DEFAULTFSDIR=/tmp
 	echo $ECHON "FSDIR [default $DEFAULTFSDIR] $ECHOC"
 	read FSDIR
 	if [ X$FSDIR = X ]
@@ -398,11 +400,11 @@
 		;;
 esac
 
-INFO=`../scripts/info`
+INFO=`$SCRIPTSDIR/info`
 if [ $MAIL = yes ]
-then	if [ ! -f ../bin/$OS/$INFO ]
-	then	cp ../scripts/info-template ../bin/$OS/$INFO
-		chmod +w ../bin/$OS/$INFO
+then	if [ ! -f $CONFIGDIR/$INFO ]
+	then	cp $SCRIPTSDIR/info-template $CONFIGDIR/$INFO
+		chmod +w $CONFIGDIR/$INFO
 		REUSE=no
 	else	
 		REUSE=view
@@ -416,7 +418,7 @@
 				;;
 			[Vv]*)	REUSE=view
 				echo $L
-				more ../bin/$OS/$INFO
+				more $CONFIDIR/$INFO
 				echo $L
 				;;
 	    		*)	REUSE=yes
@@ -444,7 +446,7 @@
 		then	EDITOR=$TMP
 		fi
 		if [ X$EDITOR != "none" ]
-		then	$EDITOR ../bin/$OS/`../scripts/info`
+		then	$EDITOR $CONFIGDIR/`$SCRIPTSDIR/info`
 		fi
 	fi
 fi
@@ -459,9 +461,14 @@
 
 EOF
 
-VERSION=`../scripts/version`
+VERSION=`$SCRIPTSDIR/version`
 
-C=../bin/$OS/`../scripts/config`
+C=$CONFIGDIR/`$SCRIPTSDIR/config`
+> "$C"
+[ ! -f "$C" ]  && {
+	echo "Config file not created, error in the script"
+	exit 1
+}
 echo DISKS=\"$DISKS\"\; export DISKS > $C
 echo DISK_DESC=\"$DISK_DESC\"\; export DISK_DESC >> $C
 echo OUTPUT=$OUTPUT\; export OUTPUT >> $C
diff -urNd -urNd lmbench-2.0.4.old/scripts/config-run~debian.patch lmbench-2.0.4/scripts/config-run~debian.patch
diff -urNd -urNd lmbench-2.0.4.old/scripts/gnu-os lmbench-2.0.4/scripts/gnu-os
--- lmbench-2.0.4.old/scripts/gnu-os	2003-01-13 06:24:22.000000000 -0500
+++ lmbench-2.0.4/scripts/gnu-os	2004-05-12 18:13:11.000000000 -0400
@@ -35,6 +35,7 @@
 # don't specify an explicit build system type.
 
 me=`echo "$0" | sed -e 's,.*/,,'`
+RUNDIR=/var/run/lmbench/
 
 usage="\
 Usage: $0 [OPTION]
@@ -87,8 +88,9 @@
   exit 1
 fi
 
-
-dummy=dummy-$$
+cd $RUNDIR
+dummy=`tempfile -d .`
+#dummy=dummy-$$
 trap 'rm -f $dummy.c $dummy.o $dummy.rel $dummy; exit 1' 1 2 15
 
 # CC_FOR_BUILD -- compiler used by this script.
@@ -206,7 +208,7 @@
 EOF
 	$CC_FOR_BUILD $dummy.s -o $dummy 2>/dev/null
 	if test "$?" = 0 ; then
-		case `./$dummy` in
+		case `$dummy` in
 			0-0)
 				UNAME_MACHINE="alpha"
 				;;
diff -urNd -urNd lmbench-2.0.4.old/scripts/gnu-os~debian.patch lmbench-2.0.4/scripts/gnu-os~debian.patch
diff -urNd -urNd lmbench-2.0.4.old/scripts/lmbench lmbench-2.0.4/scripts/lmbench
--- lmbench-2.0.4.old/scripts/lmbench	2003-01-13 06:24:22.000000000 -0500
+++ lmbench-2.0.4/scripts/lmbench	2004-05-12 18:13:11.000000000 -0400
@@ -7,7 +7,11 @@
 # $Id$
 
 # Make sure we can find: ./cmd, df, and netstat
-PATH=.:../../scripts:$PATH:/etc:/usr/etc:/sbin:/usr/sbin
+#SCRIPTDIR=../../scripts
+SHAREDIR=/usr/share/lmbench/
+LIBDIR=/usr/lib/lmbench/
+SCRIPTDIR=$SHAREDIR/scripts
+PATH=.:$SHAREDIR:$PATH:/etc:/usr/etc:/sbin:/usr/sbin
 export PATH
 
 if [ -f $1 ]
@@ -51,7 +55,7 @@
 # Figure out as much stuff as we can about this system.
 # Sure would be nice if everyone had SGI's "hinv".
 echo \[lmbench2.0 results for `uname -a`] 1>&2
-echo \[LMBENCH_VER: `cat ../../src/bk.ver`] 1>&2
+echo \[LMBENCH_VER: `cat $SHAREDIR/bk.ver`] 1>&2
 echo \[ALL: ${ALL}] 1>&2
 echo \[DISKS: ${DISKS}] 1>&2
 echo \[DISK_DESC: ${DISK_DESC}] 1>&2
@@ -154,14 +158,14 @@
 
 date >> ${OUTPUT}
 echo Local networking >> ${OUTPUT}
-if [ ! -d ../../src/webpage-lm ]
-then	(cd ../../src && tar xf webpage-lm.tar)
+if [ ! -d $SHAREDIR/webpage-lm ]
+then	(cd $SHAREDIR && tar xf webpage-lm.tar)
 	sync
 	sleep 1
 fi
 SERVERS="lat_udp lat_tcp lat_rpc lat_connect bw_tcp"
 for server in $SERVERS; do $server -s; done
-DOCROOT=../../src/webpage-lm lmhttp 8008 &
+DOCROOT=$SHAREDIR/webpage-lm lmhttp 8008 &
 sleep 2;
 for i in localhost
 do
@@ -176,18 +180,18 @@
 	bw_tcp $i
 	bw_tcp -$i
 	# I want a hot cache number
-	lat_http $i 8008 < ../../src/webpage-lm/URLS > /dev/null 2>&1
-	lat_http $i 8008 < ../../src/webpage-lm/URLS
+	lat_http $i 8008 < $SHAREDIR/webpage-lm/URLS > /dev/null 2>&1
+	lat_http $i 8008 < $SHAREDIR/webpage-lm/URLS
 	lat_http -$i 8008
 done
 
 for remote in $REMOTE 
 do	echo Networking to $remote >> ${OUTPUT}
-	$RCP $SERVERS lmhttp ../../src/webpage-lm.tar ${remote}:/tmp
+	$RCP $SERVERS lmhttp $SHAREDIR/webpage-lm.tar ${remote}:/tmp
 	for server in $SERVERS
 	do	$RSH $remote -n /tmp/$server -s &
 	done
-	$RSH $remote -n 'cd /tmp; tar xf webpage-lm.tar; cd webpage-lm; ../lmhttp 8008' &
+	$RSH $remote -n 'cd /tmp; tar xf webpage-lm.tar; cd webpage-lm; $LIBDIR/lmhttp 8008' &
 	sleep 10
 	echo "[ Networking remote to $remote: `$RSH $remote uname -a` ]" 1>&2
 	lat_udp $remote; lat_udp -$remote;
@@ -196,8 +200,8 @@
 	lat_connect $remote; lat_connect -$remote;
 	bw_tcp $remote; bw_tcp -$remote 
 	# I want a hot cache number
-	lat_http $remote 8008 < ../../src/webpage-lm/URLS > /dev/null 2>&1
-	lat_http $remote 8008 < ../../src/webpage-lm/URLS
+	lat_http $remote 8008 < $SHAREDIR/webpage-lm/URLS > /dev/null 2>&1
+	lat_http $remote 8008 < $SHAREDIR/webpage-lm/URLS
 	lat_http -$remote 8008
 	RM=
 	for server in $SERVERS
diff -urNd -urNd lmbench-2.0.4.old/scripts/lmbench~debian.patch lmbench-2.0.4/scripts/lmbench~debian.patch
diff -urNd -urNd lmbench-2.0.4.old/scripts/results lmbench-2.0.4/scripts/results
--- lmbench-2.0.4.old/scripts/results	2003-01-13 06:24:22.000000000 -0500
+++ lmbench-2.0.4/scripts/results	2004-05-12 18:13:11.000000000 -0400
@@ -2,20 +2,24 @@
 
 # $Id$
 
-OS=`../scripts/os`
-CONFIG=`../scripts/config`
-RESULTS=results/$OS
-BASE=../$RESULTS/`uname -n`
+SHAREDIR=/usr/share/lmbench/
+VARDIR=/var/lib/lmbench/
+CONFIGDIR=$VARDIR/config/
+BINDIR=/usr/lib/lmbench/
+OS=`$SHAREDIR/scripts/os`
+CONFIG=`$SHAREDIR/scripts/config`
+RESULTS=$VARDIR/results/$OS
+BASE=$RESULTS/`uname -n`
 EXT=0
 
-if [ ! -f "../bin/$OS/$CONFIG" ]
+if [ ! -f "$CONFIGDIR/$CONFIG" ]
 then	echo "No config file?"
 	exit 1
 fi
-. ../bin/$OS/$CONFIG
+. $CONFIGDIR/$CONFIG
 
-if [ ! -d ../$RESULTS ]
-then	mkdir -p ../$RESULTS
+if [ ! -d $RESULTS ]
+then	mkdir -p $RESULTS
 fi
 RESULTS=$BASE.$EXT
 while [ -f $RESULTS ]
@@ -23,16 +27,16 @@
 	RESULTS=$BASE.$EXT
 done
 
-cd ../bin/$OS 
+cd $BINDIR
 export OUTPUT
 echo Results going to ${RESULTS}
-../../scripts/lmbench $CONFIG 2>../${RESULTS}
+$SHAREDIR/scripts/lmbench $CONFIGDIR/$CONFIG 2>${RESULTS}
 
 if [ X$MAIL = Xyes ]
 then	(echo Mailing results
 	echo ---- $INFO ---
 	cat $INFO 
 	echo ---- $RESULTS ---
-	cat ../$RESULTS) | mail lmbench2@bitmover.com 
+	cat $RESULTS) | mail lmbench2@bitmover.com 
 fi
 exit 0
diff -urNd -urNd lmbench-2.0.4.old/scripts/results~debian.patch lmbench-2.0.4/scripts/results~debian.patch
diff -urNd -urNd lmbench-2.0.4.old/src/bk.ver lmbench-2.0.4/src/bk.ver
diff -urNd -urNd lmbench-2.0.4.old/src/Makefile lmbench-2.0.4/src/Makefile
